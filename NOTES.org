
* Links
  :PROPERTIES:
  :VISIBILITY: content
  :END:
** Hackage
   - [[https://hackage.haskell.org/package/template-haskell-2.19.0.0/docs/Language-Haskell-TH.html][Language.Haskell.TH]]
   - [[https://hackage.haskell.org/package/xml-1.3.14/docs/Text-XML-Light-Types.html][Text.XML.Light.Types]]
   - [[https://hackage.haskell.org/package/base-4.17.0.0/docs/Control-Monad-IO-Class.html][Control.Monad.IO.Class]]
   - [[https://hackage.haskell.org/package/directory-1.3.8.0/docs/System-Directory.html][System.Directory]]
** XSD sources/samples (this directory)
   - [[file:xsd.xsd][xsd.xsd]]
   - [[file:datatypes.xsd][datatypes.xsd]]
   - [[file:./shiporder0.xsd][shiporder0.xsd]]
   - [[file:./shiporder1.xsd][shiporder1.xsd]]
   - [[file:./shiporder2.xsd][shiporder2.xsd]]
** Cabal/Stack notes
- In `stack.yaml`, tried setting
  `resolver: lts-12.20`

* TODO Shiporder2
  For current issue, need to revisit generation
  - Elements get the current =decode= function signature
  - Types get a =decodeElementAsZZZZZZZZ= function
    - Takes the element name and the =Content=
    - Similar body, but element name can vary
  - Element =decode= body calls the type's new decode function with
    their own element name

* TODO Picklers
  - This is in `hdecl`, in [[./src/QDHXB/Internal.hs][Internal.hs]]
  - Probably, two more functions for most named elements:
    - encodeELEM :: To a piece of parsed XML content (`Content`).
    - writeELEM :: To a file, possibly inline fns using encodeELEM and
      some standardized glue.
  - But revisit type vs. element signatures

* TODO Use class/instance for abstract complex types?
* TODO Test code
  - Setup for unpicklers/picklers

* TODO Attribute use in xs:attribute
* TODO Unions
* TODO Other complex, simple type forms
  - And examples
* TODO Try the whole xsd.xsd
