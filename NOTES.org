
* Links
  :PROPERTIES:
  :VISIBILITY: content
  :END:
** Hackage
   - [[https://hackage.haskell.org/package/template-haskell-2.19.0.0/docs/Language-Haskell-TH.html][Language.Haskell.TH]]
   - [[https://hackage.haskell.org/package/template-haskell-util-0.1.1.0/docs/Language-Haskell-TH-Utils.html][Language.Haskell.TH.Utils]]
   - [[https://hackage.haskell.org/package/xml-1.3.14/docs/Text-XML-Light-Types.html][Text.XML.Light.Types]]
   - [[https://hackage.haskell.org/package/base-4.17.0.0/docs/Control-Monad-IO-Class.html][Control.Monad.IO.Class]]
   - [[https://hackage.haskell.org/package/directory-1.3.8.0/docs/System-Directory.html][System.Directory]]
** XSD sources/samples (this directory)
   - [[file:xsd.xsd][xsd.xsd]]
   - [[file:datatypes.xsd][datatypes.xsd]]
   - [[file:./shiporder0.xsd][shiporder0.xsd]]
   - [[file:./shiporder1.xsd][shiporder1.xsd]]
   - [[file:./shiporder2.xsd][shiporder2.xsd]]
** Cabal/Stack notes
- In `stack.yaml`, tried setting
  `resolver: lts-12.20`
* TODO Books example
  :PROPERTIES:
  :VISIBILITY: content
  :END:
  - It's the order in the inmodified XSD that's a problem
  - Need to do away with relying on the accumulation of type
    definitions --- it's got to be just the existence and alignment of
    names.
* TODO Bootstrap the whole xsd.xsd
  :PROPERTIES:
  :VISIBILITY: content
  :END:
  - Needs <restriction> next, which should be simply a matter of
    pulling the base type and ignoring the rest of it.
* TODO OFX test 1
  :PROPERTIES:
  :VISIBILITY: content
  :END:
  - Need xsd:choice
* TODO Customers/orders example --- key/keyref elements
  - For now at least, dropping the key/keyref elements
  - Re-uses names in nested declarations.  Need to disambiguate new
    type and element names when flattening.
* TODO Picklers
  - This is in `hdecl`, in [[./src/QDHXB/Internal.hs][Internal.hs]]
  - Probably, two more functions for most named elements:
    - encodeELEM :: To a piece of parsed XML content (`Content`).
    - writeELEM :: To a file, possibly inline fns using encodeELEM and
      some standardized glue.
  - But revisit type vs. element signatures

* TODO Use class/instance for abstract complex types?
* TODO Unions
* TODO Other complex, simple type forms
  - And examples
* TODO Go back to key and keyref elements
  - See customersorders.xsd example
* DONE Recognize namespaces
